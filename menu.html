<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="menustyle.css">
  <title>menu</title>
</head>
<body>

  <nav class="top-navbar">
    <div class="scrollmenu">
      <a href="#Hot Coffee">Hot Coffee</a>
      <a href="#Cold Drinks">Cold Drinks</a>
      <a href="#Mojito">Mojito</a>
      <a href="#Smoothie">Smoothie</a>
      <a href="#Shake">Shake</a>
      <a href="#Strawberry Fondue">Strawberry Fondue</a>
      <a href="#Pastry & Sweet">Pastry & Sweet</a>
      <a href="#Cold Sandwich">Cold Sandwich</a>
      <a href="#Fresh Juice">Fresh Juice</a>
      <a href="#Energy Drink">Energy Drink</a>
      <a href="#Soft Drink">Soft Drink</a>
    </div>
  </nav>

  <section id="Hot Coffee">
    <img src="img/HotDrinks.webp" alt="Hot Drinks" class="menu-image">
  </section>
  <section id="Cold Drinks">
    <img src="img/ColdDrinks.webp" alt="Cold Drinks" class="menu-image">
  </section>
  <section id="Mojito">
    <img src="img/Mojito.webp" alt="Mojito" class="menu-image">
  </section>
  <section id="Smoothie">
    <img src="img/Smoothies.webp" alt="Smoothies" class="menu-image">
  </section>
  <section id="Shake">
    <img src="img/Shake.webp" alt="Shake" class="menu-image">
  </section>
  <section id="Strawberry Fondue">
    <img src="img/StrawberryFondue.webp" alt="Strawberry Fondue" class="menu-image">
  </section>
  <section id="Pastry & Sweet">
    <img src="img/PastryDessert.webp" alt="Pastry & Dessert" class="menu-image">
  </section>
  <section id="Cold Sandwich">
    <img src="img/ColdSandwich.webp" alt="Cold Sandwich" class="menu-image">
  </section>
  <section id="Fresh Juice">
    <img src="img/Juice.webp" alt="Fresh Juice" class="menu-image">
  </section>
  <section id="Energy Drink">
    <img src="img/EnergyDrinks.webp" alt="Energy Drink" class="menu-image">
  </section>
  <section id="Soft Drink">
    <img src="img/SoftDrinks.webp" alt="Soft Drink" class="menu-image">
  </section>

  <!-- Powered by Rako & Nwar-->
  <script>
  function centerNavItem(link) {
    const scrollmenu = document.querySelector('.scrollmenu');
    const linkRect = link.getBoundingClientRect();
    const menuRect = scrollmenu.getBoundingClientRect();
    const scrollLeft = scrollmenu.scrollLeft;
    const offset = linkRect.left - menuRect.left - (menuRect.width / 2) + (linkRect.width / 2);
    scrollmenu.scrollTo({ left: scrollLeft + offset, behavior: 'smooth' });
  }

  function setActiveNav(sectionId) {
    document.querySelectorAll('.scrollmenu a').forEach(link => {
      if (link.getAttribute('href').substring(1) === sectionId) {
        link.classList.add('active');
        centerNavItem(link);
      } else {
        link.classList.remove('active');
      }
    });
  }

  document.querySelectorAll('.scrollmenu a').forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      const sectionId = this.getAttribute('href').substring(1);
      const section = document.getElementById(sectionId);
      if(section) {
        section.scrollIntoView({ behavior: 'smooth' });
        setActiveNav(sectionId);
      }
    });
  });

  // Intersection Observer for section highlighting
  document.addEventListener('DOMContentLoaded', function() {
    const sections = document.querySelectorAll('section');
    const options = {
      root: null,
      rootMargin: '-120px 0px 0px 0px', // Adjust for your navbar height
      threshold: 0.5 // Section is at least 50% visible
    };

    let currentActive = null;

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if(entry.isIntersecting) {
          currentActive = entry.target.id;
          setActiveNav(currentActive);
        }
      });
    }, options);

    sections.forEach(section => {
      observer.observe(section);
    });
  });
  </script>
</body>
</html>


